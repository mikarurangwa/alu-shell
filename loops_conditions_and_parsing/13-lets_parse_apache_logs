#!/usr/bin/env bash
# Script to parse Apache log file and display visitor IP along with HTTP status code

# Check if the log file exists
LOG_FILE="apache-access.log"

if [[ ! -f "$LOG_FILE" ]]; then
  echo "Log file not found!"
  exit 1
fi

# Use awk to extract IP and HTTP status code, handle various log conditions
awk '
{
  if (NF < 9) {
    next
  }
  print $1, $9
}
' "$LOG_FILE"

